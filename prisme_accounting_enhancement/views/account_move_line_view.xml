<?xml version="1.0"?>
<!-- 
###########################################################################
#
#    Prisme Solutions Informatique SA
#    Copyright (c) 2020 Prisme Solutions Informatique SA <http://prisme.ch>
#
#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU Affero General Public License as
#    published by the Free Software Foundation, either version 3 of the
#    License, or (at your option) any later version.
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU Affero General Public License for more details.
#    You should have received a copy of the GNU Affero General Public Lic
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
#    Project ID:    OERP-002-01 - T492
#
##########################################################################
-->
<odoo>
	<data>
		<record model="ir.ui.view" id="account_move_prisme_discount">
			<field name="name">account.move.prisme.discount</field>
			<field name="model">account.move</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="account.view_move_form"/>
			<field name="arch" type="xml">
				<!-- Adding discount_amount field inside the invoice lines -->
				<xpath expr="//field[@name='invoice_line_ids']/tree/field[@name='discount']" position="replace">
					<field name="discount" optional="show"/>	
					<field name="discount_amount" optional="show"/>	
			    </xpath>
			    
			    <xpath expr="//field[@name='line_ids']/tree/field[@name='discount']" position="after">
					<field name="discount_amount" invisible="1"/>	
			    </xpath>
			    
			    <!-- Adding discount_amount field inside the form view of the invoice lines entries -->
			    <xpath expr="//field[@name='invoice_line_ids']/form/sheet/group/field[@name='discount']" position="replace">
			    	<field name="discount" optional="show"/>	
					<field name="discount_amount" optional="show"/>	
			    </xpath>
			</field>
		</record>		
	</data>
</odoo>